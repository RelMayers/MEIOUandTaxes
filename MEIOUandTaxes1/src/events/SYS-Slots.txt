namespace = slots
country_event = {
    id = slots.1
    title = no_localisation
	desc = no_localisation
	picture = MEIOU_AND_TAXES_eventPicture
	is_triggered_only = yes
	
	trigger = {
        tag = AAA
    }
    
    immediate = {
        #hidden_effect = {
            if = {
                limit = {
                    has_country_flag = 10_year_slot
                }
                SlotsSystem = yes
				SlotsCitySystem = yes
                every_province = {
                    limit = {
                        isValidProv = yes
						had_province_flag = { flag = rec_new_slot days = 18250 }
                    }
					clr_province_flag = rec_new_slot
                }
                clr_country_flag = 10_year_slot
            }
            else_if = {
                limit = {
                    has_country_flag = 5_year_slot 
                }
                clr_country_flag = 5_year_slot
                set_country_flag = 10_year_slot
            }
            else = {
                set_country_flag = 5_year_slot
            }  
        #}
    }
    option = {
		name = no_localisation
	}
}

#AI decides whether it wants to
country_event = {
	id = slots.2
	title = no_localisation
	desc = no_localisation
	picture = UNIVERSITY_eventPicture

	is_triggered_only = yes
	
	trigger = {
		any_owned_province = {
			isValidProv = yes
			NOT = { has_province_flag = AI_NoCity }
		}
		NOT = { num_of_loans = 3 }
		treasury = 100
	}

	option = {
		name = no_localisation
		trigger = {
			any_owned_province = {
				isValidProv = yes
				NOT = { has_province_flag = AI_NoCity }
				NOT = { has_province_flag = City_Present }
				OR = {
					has_province_flag = TN_Harbour_Major
					has_province_flag = TN_Harbour_Important
					has_province_flag = TN_Harbour_Minor
					has_province_flag = TN_Natural_Minor
					has_province_flag = TN_Natural_Important
					has_province_flag = TN_Natural_Major
					has_province_flag = TN_Canal
				}
				NOT = { check_key = { lhs = Prov_TRPow value = 75 } }
				NOT = { province_id = 3401 }				
			}
		}
		ai_chance = {
			factor = 15
		}
		
		random_owned_province = {
			limit = {
				isValidProv = yes
				NOT = { has_province_flag = AI_NoCity }
				NOT = { has_province_flag = City_Present }
				OR = {
					has_province_flag = TN_Harbour_Major
					has_province_flag = TN_Harbour_Important
					has_province_flag = TN_Harbour_Minor
					has_province_flag = TN_Natural_Minor
					has_province_flag = TN_Natural_Important
					has_province_flag = TN_Natural_Major
					has_province_flag = TN_Canal
				}
				NOT = { check_key = { lhs = Prov_TRPow value = 75 } }
				NOT = { province_id = 3401 }
			}
			log = "[This.GetName] Tried to open a natural location City"
			Public_AddProduce = { prod = 24 size = 5 soph = 100 wealth = 0 }
			Infra_AddPrp = { Type=Industrial Amount=5 Broker1=RE Broker2=BG }

			Public_AddProduce = { prod = 25 size = 5 soph = 100 wealth = 0 }
			Infra_AddPrp = { Type=Industrial Amount=5 Broker1=RE Broker2=BG }

			Public_AddProduce = { prod = 26 size = 5 soph = 100 wealth = 0 }
			Infra_AddPrp = { Type=Industrial Amount=5 Broker1=RE Broker2=BG }
			
			if = {
				limit = {
					Prod_Can_27 = yes
				}
				Public_AddProduce = { prod = 27 size = 5 soph = 100 wealth = 0 }
				Infra_AddPrp = { Type=Industrial Amount=5 Broker1=RE Broker2=BG }
			}
			Public_AddProduce = { prod = 32 size = 5 soph = 100 wealth = 0 }
			Infra_AddPrp = { Type=Commercial Amount=5 Broker1=BG Broker2=RE }

			change_key = { lhs = Building_IndustrialWealth value = 10 }
			change_key = { lhs = Building_CommercialWealth value = 10 }
		}
	}
	
	option = {
		name = no_localisation
		trigger = {
			any_owned_province = {
				isValidProv = yes
				NOT = { has_province_flag = AI_NoCity }
				NOT = { has_province_flag = City_Present }
				NOT = { check_key = { lhs = Prov_TRPow value = 75 } }
				NOT = { province_id = 3401 }
			}
		}
		ai_chance = {
			factor = 3
		}
		random_owned_province = {
			limit = {
				isValidProv = yes
				NOT = { has_province_flag = AI_NoCity }
				NOT = { has_province_flag = City_Present }
				NOT = { check_key = { lhs = Prov_TRPow value = 75 } }
				NOT = { province_id = 3401 }
			}
			log = "[This.GetName] Tried to open a City"
			Public_AddProduce = { prod = 24 size = 5 soph = 100 wealth = 0 }
			Infra_AddPrp = { Type=Industrial Amount=5 Broker1=RE Broker2=BG }

			Public_AddProduce = { prod = 25 size = 5 soph = 100 wealth = 0 }
			Infra_AddPrp = { Type=Industrial Amount=5 Broker1=RE Broker2=BG }

			Public_AddProduce = { prod = 26 size = 5 soph = 100 wealth = 0 }
			Infra_AddPrp = { Type=Industrial Amount=5 Broker1=RE Broker2=BG }
			
			Public_AddProduce = { prod = 32 size = 5 soph = 100 wealth = 0 }
			Infra_AddPrp = { Type=Commercial Amount=5 Broker1=BG Broker2=RE }

			change_key = { lhs = Building_IndustrialWealth value = 10 }
			change_key = { lhs = Building_CommercialWealth value = 10 }
		}
	}

	option = {
		name = no_localisation
		#Don't do anything

		ai_chance = {
			factor = 1
		}
		
		log = "[This.GetName] Too broke for city"
	}
}
